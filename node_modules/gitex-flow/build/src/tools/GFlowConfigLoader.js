"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.GFlowConfigLoader = void 0;
const fs_extra_1 = require("fs-extra");
const path_1 = require("path");
/**
 * Loader of the GFlow config file.
 */
class GFlowConfigLoader {
    /**
     * Loads the gitex configuration file if exists.
     *
     * @param projectPath - The path to the repository. (default: process.cwd())
     *
     * @returns The configuration from file if it exists.
     */
    static load(projectPath) {
        let gFlowConfig;
        projectPath = projectPath !== null && projectPath !== void 0 ? projectPath : process.cwd();
        for (const configFileName of GFlowConfigLoader.ConfigFileNames) {
            const configFilePath = path_1.join(projectPath, configFileName);
            if (fs_extra_1.pathExistsSync(configFilePath)) {
                gFlowConfig = fs_extra_1.readJsonSync(configFilePath);
                break;
            }
        }
        return gFlowConfig;
    }
}
exports.GFlowConfigLoader = GFlowConfigLoader;
GFlowConfigLoader.ConfigFileNames = ['.gitex-flow.json', '.gitex-flow', '.gitex.json', '.gitex'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR0Zsb3dDb25maWdMb2FkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvdG9vbHMvR0Zsb3dDb25maWdMb2FkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsdUNBQXdEO0FBQ3hELCtCQUE0QjtBQUc1Qjs7R0FFRztBQUNILE1BQWEsaUJBQWlCO0lBRzVCOzs7Ozs7T0FNRztJQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBb0I7UUFDckMsSUFBSSxXQUFvQyxDQUFDO1FBQ3pDLFdBQVcsR0FBRyxXQUFXLGFBQVgsV0FBVyxjQUFYLFdBQVcsR0FBSSxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUM7UUFFM0MsS0FBSyxNQUFNLGNBQWMsSUFBSSxpQkFBaUIsQ0FBQyxlQUFlLEVBQUU7WUFDOUQsTUFBTSxjQUFjLEdBQUcsV0FBSSxDQUFDLFdBQVcsRUFBRSxjQUFjLENBQUMsQ0FBQztZQUN6RCxJQUFJLHlCQUFjLENBQUMsY0FBYyxDQUFDLEVBQUU7Z0JBQ2xDLFdBQVcsR0FBRyx1QkFBWSxDQUFDLGNBQWMsQ0FBZ0IsQ0FBQztnQkFDMUQsTUFBTTthQUNQO1NBQ0Y7UUFFRCxPQUFPLFdBQVcsQ0FBQztJQUNyQixDQUFDOztBQXZCSCw4Q0F3QkM7QUF2QnlCLGlDQUFlLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRSxhQUFhLEVBQUUsYUFBYSxFQUFFLFFBQVEsQ0FBQyxDQUFDIn0=